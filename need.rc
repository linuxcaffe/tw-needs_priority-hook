# need.rc - Priority-based filtering configuration
# Include in .taskrc with: include ~/.task/hooks/priority/need.rc

# UDA Definition
uda.priority.type=string
uda.priority.label=Priority
uda.priority.values=1,2,3,4,5,6
uda.priority.default=4

# Urgency coefficients (higher priority = more urgent)
urgency.uda.priority.1.coefficient=20.0
urgency.uda.priority.2.coefficient=16.0
urgency.uda.priority.3.coefficient=12.0
urgency.uda.priority.4.coefficient=8.0
urgency.uda.priority.5.coefficient=4.0
urgency.uda.priority.6.coefficient=0.0

# Auto-assignment rules
# Format: priority.N.auto=filter_expression
# Multiple filters are OR'd together
# First match wins (checked in priority order 1-6)

# Priority 1: Physiological - air, water, food, shelter, medical
priority.1.auto=+meds,+oxygen,+hospital,desc.has:hospital,desc.has:emergency,proj:physio,proj:medical

# Priority 2: Safety - security, health, financial
priority.2.auto=+job,+bills,+rent,+mortgage,+insurance,proj:home,proj:security,proj:financial

# Priority 3: Love & Belonging - friends, family
priority.3.auto=+family,+friends,+social,proj:family,proj:relationships

# Priority 4: Esteem - respect, recognition, achievements (DEFAULT)
priority.4.auto=+work,+career,+learning,proj:career,proj:education

# Priority 5: Self-actualization - personal growth, creativity
priority.5.auto=+creative,+art,+music,+writing,proj:creative,proj:personal

# Priority 6: Higher goals - life purpose, big dreams
priority.6.auto=+goals,+dreams,+legacy,proj:goals,proj:vision

# Context span setting - how many priority levels to show above minimum
priority.span=3

# Due/scheduled lookahead - always show tasks due/scheduled soon
# Format: <number><unit> where unit = d(ays), w(eeks), m(onths), y(ears)
priority.lookahead=2d

# Due/scheduled lookback - constrain context to exclude old overdue tasks
# Format: <number><unit> where unit = d(ays), w(eeks), m(onths), y(ears)
priority.lookback=1w

# Context definition (auto-maintained by hooks)
# Uses pri.after:N syntax where pri.after:3 shows pri:1 and pri:2
context.need.read=pri.after:4 or ( scheduled.before:today+2d and sched.after:today-1w ) or ( due.before:today+2d and due.after:today-1w )
### include started

# Command alias for nn (Needs Navigator)
# NOTE: Taskwarrior aliases cannot pass arguments like 'span 2'
# To use nn with arguments, call directly: ~/.task/hooks/priority/nn.py span 2
# Or add to ~/.bashrc: alias nn='~/.task/hooks/priority/nn.py'
alias.nn=exec sh -c '~/.task/hooks/priority/nn.py'
